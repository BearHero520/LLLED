# ç»¿è”LEDç¡¬ç›˜æ˜ å°„é…ç½®æ–‡ä»¶ v2.0
# æ”¯æŒå¤šç§æ˜ å°„æ–¹å¼ï¼šHCTLã€åºåˆ—å·ã€è®¾å¤‡å

# ===== æ˜ å°„æ–¹å¼è¯´æ˜ =====
# 1. åŸºäºHCTLçš„æ˜ å°„ (æ¨è)
#    HCTL (Host:Channel:Target:LUN) é€šå¸¸å¯¹åº”ç¡¬ç›˜æ§½ä½çš„ç‰©ç†é¡ºåº
#    ä½¿ç”¨ lsblk -S -x hctl -o name,hctl,serial æŸ¥çœ‹HCTLé¡ºåº
# 
# 2. åŸºäºåºåˆ—å·çš„æ˜ å°„ (æœ€å‡†ç¡®)
#    ä¸ä¼šå› é‡å¯è€Œæ”¹å˜ï¼Œä½†éœ€è¦æ‰‹åŠ¨è®°å½•
# 
# 3. åŸºäºè®¾å¤‡åçš„æ˜ å°„ (ä¸æ¨è)
#    /dev/sdX å¯èƒ½ä¼šå› é‡å¯è€Œæ”¹å˜

# ===== å½“å‰æ˜ å°„é…ç½® =====
# æ ¼å¼: /dev/è®¾å¤‡å=LEDåç§°
# å¯ç”¨LED: disk1, disk2, disk3, disk4, disk5, disk6, disk7, disk8, none

# é»˜è®¤SATAç¡¬ç›˜æ˜ å°„ï¼ˆè¯·æ ¹æ®å®é™…HCTLé¡ºåºè°ƒæ•´ï¼‰
# 4ç›˜ä½è®¾å¤‡ä½¿ç”¨ disk1-disk4
/dev/sda=disk1
/dev/sdb=disk2
/dev/sdc=disk3
/dev/sdd=disk4

# 8ç›˜ä½è®¾å¤‡é¢å¤–æ˜ å°„ disk5-disk8 (å¦‚é€‚ç”¨)
/dev/sde=disk5
/dev/sdf=disk6
/dev/sdg=disk7
/dev/sdh=disk8

# NVMeç¡¬ç›˜æ˜ å°„
/dev/nvme0n1=disk1
/dev/nvme1n1=disk2

# ===== ç»¿è”è®¾å¤‡HCTLæ˜ å°„å‚è€ƒ =====
# ä¸åŒç»¿è”è®¾å¤‡çš„HCTLé¡ºåºå¯èƒ½ä¸åŒï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¡®è®¤ï¼š
# lsblk -S -x hctl -o name,hctl,serial
# 
# å¸¸è§æ˜ å°„æ¨¡å¼ï¼š
# 
# DX4600 Pro / DX4700+ (4ç›˜ä½):
# HCTL 0:0:0:0 -> disk1 (å·¦ä¸Š)
# HCTL 1:0:0:0 -> disk2 (å³ä¸Š)
# HCTL 2:0:0:0 -> disk3 (å·¦ä¸‹)
# HCTL 3:0:0:0 -> disk4 (å³ä¸‹)
# 
# DXP4800 / DXP4800 Plus (4ç›˜ä½):
# HCTL 0:0:0:0 -> disk1 (ç¬¬1æ§½)
# HCTL 1:0:0:0 -> disk2 (ç¬¬2æ§½)
# HCTL 2:0:0:0 -> disk3 (ç¬¬3æ§½)
# HCTL 3:0:0:0 -> disk4 (ç¬¬4æ§½)
# 
# DXP6800 Pro (6ç›˜ä½):
# HCTL 0:0:0:0 -> disk1 (ç¬¬1æ§½)
# HCTL 1:0:0:0 -> disk2 (ç¬¬2æ§½)
# HCTL 2:0:0:0 -> disk3 (ç¬¬3æ§½)
# HCTL 3:0:0:0 -> disk4 (ç¬¬4æ§½)
# HCTL 4:0:0:0 -> disk5 (ç¬¬5æ§½)
# HCTL 5:0:0:0 -> disk6 (ç¬¬6æ§½)
# 
# DXP8800 Plus (8ç›˜ä½):
# HCTL 0:0:0:0 -> disk1 (ç¬¬1æ§½)
# HCTL 1:0:0:0 -> disk2 (ç¬¬2æ§½)
# HCTL 2:0:0:0 -> disk3 (ç¬¬3æ§½)
# HCTL 3:0:0:0 -> disk4 (ç¬¬4æ§½)
# HCTL 4:0:0:0 -> disk5 (ç¬¬5æ§½)
# HCTL 5:0:0:0 -> disk6 (ç¬¬6æ§½)
# HCTL 6:0:0:0 -> disk7 (ç¬¬7æ§½)
# HCTL 7:0:0:0 -> disk8 (ç¬¬8æ§½)
# 
# æ³¨æ„ï¼š8ç›˜ä½è®¾å¤‡å…·æœ‰å®Œæ•´çš„8ä¸ªç¡¬ç›˜LEDç¯æ§åˆ¶

# ===== ç¤ºä¾‹é…ç½® =====
# å¦‚æœæ‚¨çš„HCTLé¡ºåºä¸LEDä½ç½®ä¸å¯¹åº”ï¼Œè¯·è°ƒæ•´æ˜ å°„ï¼š

# ç¤ºä¾‹1ï¼šå¦‚æœ HCTL 0:0:0:0 å¯¹åº”ç¬¬2ä¸ªLED
# /dev/sda=disk2

# ç¤ºä¾‹2ï¼šåŸºäºåºåˆ—å·çš„æ˜ å°„
# /dev/disk/by-id/ata-WDC_WD40EFRX-68N32N0_WD-WCC7K0123456=disk1
# /dev/disk/by-id/ata-TOSHIBA_MG04ACA400N_Z1Z5LKT4=disk2

# ç¤ºä¾‹3ï¼šä¸æ˜ å°„æŸä¸ªç¡¬ç›˜
# /dev/sde=none

# ===== LEDçŠ¶æ€æŒ‡ç¤ºè¯´æ˜ =====
# ğŸŸ¢ ç»¿è‰²é«˜äº® - ç¡¬ç›˜æ´»åŠ¨ä¸”å¥åº·
# ğŸ”µ é’è‰²ä¸­äº® - ç¡¬ç›˜ä½æ´»åŠ¨ä¸”å¥åº·
# ğŸŸ¢ ç»¿è‰²å¾®äº® - ç¡¬ç›˜ç©ºé—²ä¸”å¥åº·
# âšª ç™½è‰²å¾®äº® - ç¡¬ç›˜ä¼‘çœ 
# ğŸŸ¡ æ©™è‰²å¸¸äº®/é—ªçƒ - ç¡¬ç›˜æœ‰è­¦å‘Š
# ğŸ”´ çº¢è‰²é—ªçƒ - ç¡¬ç›˜ä¸¥é‡æ•…éšœ
# ğŸŸ¡ é»„è‰² - çŠ¶æ€æœªçŸ¥

# ===== é…ç½®å·¥å…· =====
# ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œé…ç½®ï¼š
# 
# 1. äº¤äº’å¼é…ç½®ï¼š
#    sudo /opt/ugreen-led-controller/scripts/configure_mapping.sh
# 
# 2. è‡ªåŠ¨é…ç½®ï¼ˆåŸºäºHCTLï¼‰ï¼š
#    sudo /opt/ugreen-led-controller/scripts/configure_mapping.sh --auto
# 
# 3. ç¡¬ç›˜æ˜ å°„æ£€æµ‹ï¼š
#    sudo /opt/ugreen-led-controller/scripts/disk_mapping_detector.sh
# 
# 4. LEDæµ‹è¯•ï¼š
#    sudo /opt/ugreen-led-controller/scripts/configure_mapping.sh --test 1

# ===== æ•…éšœæ’é™¤ =====
# å¦‚æœLEDæ§åˆ¶ä¸æ­£å¸¸ï¼Œè¯·æ£€æŸ¥ï¼š
# 1. ç¡¬ç›˜æ˜ å°„æ˜¯å¦æ­£ç¡®
# 2. LEDæ§åˆ¶ç¨‹åºæ˜¯å¦å­˜åœ¨
# 3. æƒé™æ˜¯å¦å……è¶³
# 4. ç¡¬ç›˜æ˜¯å¦æ­£å¸¸è¯†åˆ«
#
# æŸ¥çœ‹å½“å‰æ˜ å°„ï¼š
# sudo /opt/ugreen-led-controller/scripts/configure_mapping.sh --show
#
# é‡æ–°æ£€æµ‹ç¡¬ç›˜ï¼š
# sudo /opt/ugreen-led-controller/scripts/disk_mapping_detector.sh --info
